;;SIMULATOR: VERSION 1



globals [
  output-file1
  output-file2
]

to setup
	simulator-setup
	
  
	let tag-count 1
	let k 5
	let m 3


	create-documents 50 [documents-setup number-of-tags ]
  create-documents 50 [documents-setup number-of-tags ]
  
  
  create-stock-neural-profiles 10 [
    set color blue
    set document? false
  ]
  
  create-stock-peer-similarity-profiles 10 [
    set color green
    set document? false
  ]

	my-layout

  ask turtles with [not document?] [profiles-setup k m number-of-tags ]
end


to profiles-setup [k m tag-count]
  turtles-layout ;Standard layout
  update-rank-links
  ask my-out-rank-links [set neural-weight 1]  
  set score 0
  set turns 0
  set max-k k
  set max-m m
  set document? false
  set active? true
  set tags n-of tag-count tag-list
  set children []
  set turn-payoff-list []
end

to-report number-of-tags
  let avg 2
  let std 1
  let value random-normal avg std
  report ifelse-value (value >= 0) [value + 1] [number-of-tags]
end